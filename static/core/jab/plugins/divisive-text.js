/* DIVIsive Text */
!function(i){function t(i){return i.clone().css({position:"absolute"})}function e(i){return i.split(/\s+/)}i.fn.invisibleline=function(n){giafatto=0;var a=i.extend({width:0,position:50,tag:"div",keepHtml:!0,active:1,test:0,linebreak:1,alignment:1},n);return this.each(function(){if(i(this).children(".divisive_default").length&&(giafatto=1),1==a.active)!function n(l){if(l.fadeIn(1e3),i(".nascondiinizio").fadeIn(1e3),l.children(".divisive_default").length){0==l.data("settaggiovecchio").active||((a=l.data("settaggiovecchio")).active=1);var s=l.children(".divisive_default").html();l.html(s)}if(1==a.active){var d,s=l.html(),h=t(l),r=l.contents(),g=l.text();l.append(h),h.text("42");var o=h.height()+2;h.empty();var v=t(h);t(h);var c=l.css("font-size").replace("px","");larghezza1=l.width()*a.position/100-a.width/2-c/2,larghezza2=l.width()*(100-a.position)/100-a.width/2-c/2,asinistra=1,v.width(larghezza1),v.addClass("contain_p"),l.append(v);for(var b=a.keepHtml?function t(n,a){for(var l,s=[],d=n.length,h=0;h<d;h++)if("<br>"==(testo=(tag1=i(n[h]).clone()).wrap("<p></p>").parent().html()))s.push("<br>");else{if(3==n[h].nodeType)l=e(n[h].textContent||n[h].toString());else{var r=i(n[h]).clone();for(var g in l=t(r.contents(),1))r.empty(),l[g]=r.html(l[g]).wrap("<p></p>").parent().html()}for(var o in l)s.push(l[o])}return s}(r):e(g),m=1,p=b.length,f="",_=0;_<p;_++){var $=v.html();if("<br>"==b[_]&&($=i.trim(v.html())),b[_].toLowerCase().indexOf("<p")>=0&&1==m&&(f+="<"+a.tag+">&nbsp;</"+a.tag+">",1==asinistra&&(f+="<"+a.tag+">&nbsp;</"+a.tag+">"),asinistra=1,v.width(larghezza1),m=0),-1==b[_].toLowerCase().indexOf("<p")&&0==m){$=i.trim(v.html()),""==i.trim(v.text())&&($="&nbsp;"),f+="<"+a.tag+">"+$+"</"+a.tag+">",f+="<"+a.tag+">&nbsp;</"+a.tag+">",f+="<"+a.tag+">&nbsp;</"+a.tag+">",1==asinistra&&(f+="<"+a.tag+">&nbsp;</"+a.tag+">"),v.html(""),asinistra=1,v.width(larghezza1),m=1;continue}if(b[_].toLowerCase().indexOf("<br>")>=0&&1==asinistra&&1==a.linebreak){$=i.trim(v.html()),""==i.trim(v.text())&&($="&nbsp;"),a.alignment>=1?f+="<"+a.tag+">"+$+"<br></"+a.tag+">":f+="<"+a.tag+">"+$+"</"+a.tag+">",v.html(""),asinistra=0,v.width(larghezza2),f+="<"+a.tag+">&nbsp;</"+a.tag+">",asinistra=1,v.width(larghezza1);continue}if(b[_].toLowerCase().indexOf("<br>")>=0&&0==asinistra&&1==a.linebreak){$=i.trim(v.html()),""==i.trim(v.text())&&($="&nbsp;"),a.alignment>=1?f+="<"+a.tag+">"+$+"<br></"+a.tag+">":f+="<"+a.tag+">"+$+"</"+a.tag+">",v.html(""),asinistra=1,v.width(larghezza1);continue}if(b[_].toLowerCase().indexOf("<br>")>=0&&1==asinistra&&0==a.linebreak){$=i.trim(v.html()),""==i.trim(v.text())&&($="&nbsp;"),a.alignment>=1?f+="<"+a.tag+">"+$+"<br></"+a.tag+">":f+="<"+a.tag+">"+$+"</"+a.tag+">",v.html(""),asinistra=0,v.width(larghezza2),f+="<"+a.tag+">&nbsp;</"+a.tag+">",f+="<"+a.tag+">&nbsp;</"+a.tag+">";continue}if(b[_].toLowerCase().indexOf("<br>")>=0&&0==asinistra&&0==a.linebreak){$=i.trim(v.html()),""==i.trim(v.text())&&($="&nbsp;"),a.alignment>=1?f+="<"+a.tag+">"+$+"<br></"+a.tag+">":f+="<"+a.tag+">"+$+"</"+a.tag+">",v.html(""),asinistra=1,v.width(larghezza1);continue}if(b[_].toLowerCase().indexOf("<br>")>=0&&2==a.linebreak){$=i.trim(v.html()),""==i.trim(v.text())&&($="&nbsp;"),a.alignment>=1?f+="<"+a.tag+">"+$+"<br></"+a.tag+">":f+="<"+a.tag+">"+$+"</"+a.tag+">",v.html(""),1==asinistra?(asinistra=0,v.width(larghezza2)):(asinistra=1,v.width(larghezza1));continue}if("<p></p>"!=b[_]&&v.html($+b[_]+" "),v.html()==d){d="",f+="<"+a.tag+">"+v.html()+"</"+a.tag+">",v.html(""),1==asinistra?(asinistra=0,v.width(larghezza2)):(asinistra=1,v.width(larghezza1));continue}v.height()>o&&(d=v.html(),v.html($),f+="<"+a.tag+">"+i.trim(v.html())+"</"+a.tag+">",v.html(""),1==asinistra?(asinistra=0,v.width(larghezza2)):(asinistra=1,v.width(larghezza1)),2==a.linebreak&&(f+="<"+a.tag+">&nbsp;</"+a.tag+">",v.html(""),1==asinistra?(asinistra=0,v.width(larghezza2)):(asinistra=1,v.width(larghezza1))),_--)}0==asinistra?(asinistra=0,v.width(larghezza2)):(asinistra=1,v.width(larghezza1)),f+="<"+a.tag+">"+v.html()+"</"+a.tag+">",h.append(f),l.html(""),l.append("<div class='divisive_default'>"+s+"</div>"),l.data("settaggiovecchio",a),l.append("<div class='divisive_left'><div class='divisive_line'></div></div>"),l.append("<div class='divisive_right'><div class='divisive_line'></div></div>"),l.append("<div class='divisive_finale'></div>"),l.children(".divisive_left").css({width:a.position+"%"}),l.children(".divisive_right").css({width:100-a.position+"%"}),ppppp=(1*a.width+c/4)/2,l.children(".divisive_right").children(".divisive_line").css({"padding-left":ppppp+"px"}),l.children(".divisive_left").children(".divisive_line").css({"padding-right":ppppp+"px"}),inseriresinistra=l.children(".divisive_left").children(".divisive_line"),inseriredestra=l.children(".divisive_right").children(".divisive_line"),inseriresinistra.removeClass("divisive_alignment"),inseriredestra.removeClass("divisive_alignment"),h.children("div").each(function(i){i%2==0?inseriresinistra.append(this):inseriredestra.append(this)}),1==a.alignment&&(inseriresinistra.addClass("divisive_alignment"),inseriredestra.addClass("divisive_alignment")),2==a.alignment&&inseriresinistra.addClass("divisive_alignment"),3==a.alignment&&inseriredestra.addClass("divisive_alignment")}}(i(this));else{if(i(this).children(".divisive_default").length){var n,l=i(this).children(".divisive_default").html();i(this).html(l)}var l=i(this).html();i(this).append("<div class='divisive_default'>"+l+"</div>")}i(this).data("settaggiovecchio",a),testodainserire="active:"+a.active+"<br>",testodainserire+="larghezza:"+a.width+"<br>",testodainserire+="position:"+a.position+"<br>",testodainserire+="linebreak:"+a.linebreak+"<br>",testodainserire+="alignment:"+a.alignment+"<br>",i(this).find(".miotesto").html(testodainserire),0==giafatto&&(n=i(this),window.attachEvent?window.attachEvent("onresize",function(){n.invisibleline(n.data("settaggiovecchio"))}):window.addEventListener&&window.addEventListener("resize",function(){n.invisibleline(n.data("settaggiovecchio"))},!1))})}}(jQuery);
/* equal height function */
!function(t){"use strict";"function"==typeof define&&define.amd?define(["jquery"],t):"undefined"!=typeof module&&module.exports?module.exports=t(require("jquery")):t(jQuery)}(function(t){var e=-1,o=-1,i=function(t){return parseFloat(t)||0},a=function(e){var o=1,a=t(e),n=null,r=[];return a.each(function(){var e=t(this),a=e.offset().top-i(e.css("margin-top")),s=r.length>0?r[r.length-1]:null;null===s?r.push(e):Math.floor(Math.abs(n-a))<=o?r[r.length-1]=s.add(e):r.push(e),n=a}),r},n=function(e){var o={
byRow:!0,property:"height",target:null,remove:!1};return"object"==typeof e?t.extend(o,e):("boolean"==typeof e?o.byRow=e:"remove"===e&&(o.remove=!0),o)},r=t.fn.matchHeight=function(e){var o=n(e);if(o.remove){var i=this;return this.css(o.property,""),t.each(r._groups,function(t,e){e.elements=e.elements.not(i)}),this}return this.length<=1&&!o.target?this:(r._groups.push({elements:this,options:o}),r._apply(this,o),this)};r.version="0.7.0",r._groups=[],r._throttle=80,r._maintainScroll=!1,r._beforeUpdate=null,
r._afterUpdate=null,r._rows=a,r._parse=i,r._parseOptions=n,r._apply=function(e,o){var s=n(o),h=t(e),l=[h],c=t(window).scrollTop(),p=t("html").outerHeight(!0),d=h.parents().filter(":hidden");return d.each(function(){var e=t(this);e.data("style-cache",e.attr("style"))}),d.css("display","block"),s.byRow&&!s.target&&(h.each(function(){var e=t(this),o=e.css("display");"inline-block"!==o&&"flex"!==o&&"inline-flex"!==o&&(o="block"),e.data("style-cache",e.attr("style")),e.css({display:o,"padding-top":"0",
"padding-bottom":"0","margin-top":"0","margin-bottom":"0","border-top-width":"0","border-bottom-width":"0",height:"100px",overflow:"hidden"})}),l=a(h),h.each(function(){var e=t(this);e.attr("style",e.data("style-cache")||"")})),t.each(l,function(e,o){var a=t(o),n=0;if(s.target)n=s.target.outerHeight(!1);else{if(s.byRow&&a.length<=1)return void a.css(s.property,"");a.each(function(){var e=t(this),o=e.attr("style"),i=e.css("display");"inline-block"!==i&&"flex"!==i&&"inline-flex"!==i&&(i="block");var a={
display:i};a[s.property]="",e.css(a),e.outerHeight(!1)>n&&(n=e.outerHeight(!1)),o?e.attr("style",o):e.css("display","")})}a.each(function(){var e=t(this),o=0;s.target&&e.is(s.target)||("border-box"!==e.css("box-sizing")&&(o+=i(e.css("border-top-width"))+i(e.css("border-bottom-width")),o+=i(e.css("padding-top"))+i(e.css("padding-bottom"))),e.css(s.property,n-o+"px"))})}),d.each(function(){var e=t(this);e.attr("style",e.data("style-cache")||null)}),r._maintainScroll&&t(window).scrollTop(c/p*t("html").outerHeight(!0)),
this},r._applyDataApi=function(){var e={};t("[data-match-height], [data-mh]").each(function(){var o=t(this),i=o.attr("data-mh")||o.attr("data-match-height");i in e?e[i]=e[i].add(o):e[i]=o}),t.each(e,function(){this.matchHeight(!0)})};var s=function(e){r._beforeUpdate&&r._beforeUpdate(e,r._groups),t.each(r._groups,function(){r._apply(this.elements,this.options)}),r._afterUpdate&&r._afterUpdate(e,r._groups)};r._update=function(i,a){if(a&&"resize"===a.type){var n=t(window).width();if(n===e)return;e=n;
}i?-1===o&&(o=setTimeout(function(){s(a),o=-1},r._throttle)):s(a)},t(r._applyDataApi),t(window).bind("load",function(t){r._update(!1,t)}),t(window).bind("resize orientationchange",function(t){r._update(!0,t)})});

/* initiate division amongst the masses */
$(document).ready(function() {
	$( ".divisive-text" ).invisibleline({active:1, width:20, position:50, linebreak:2 });
	$( ".divisive-text-minority" ).invisibleline({active:1, width:20, position:25, linebreak:2 });
	$( ".divisive-text-majority" ).invisibleline({active:1, width:20, position:75, linebreak:2 });
	$( ".divisive-text-gap" ).invisibleline({active:1, width:96, position:50, linebreak:2 });
	$( ".divisive-text-gap-minority" ).invisibleline({active:1, width:96, position:25, linebreak:2 });
	$( ".divisive-text-gap-majority" ).invisibleline({active:1, width:96, position:75, linebreak:2, });
	// equal height 
	$('.divisive_line').matchHeight({ byRow: true, property: 'height', target: null, remove: false });
});