/* Curvetext */
!function(e){e.throttle=function(r,i,n){function t(){function t(){s=window.setTimeout(e,i),r.apply(this,a)}var e=function(){s=0,o&&(o=!1,t())},a=arguments;s?n&&(o=!0):t()}var s=0,o=!1;return e.guid&&(t.guid=t.guid||e.guid++),0<i?t:r}}(jQuery),function(u){u.fn.typorize=function(t){var h=u.extend(!0,{},{type:"letters",className:"",spaceClassName:"space"},t);return this.each(function(){var t,e,a,r=u(this);switch(h.type){case"lines":t=(t=r.html()).replace(/<\/?[a-zA-Z0-9]+.*?>/g,function(t){return t.toLowerCase()}),e="<br>",a="line";break;case"words":t=r.text(),e=" ",a="word";break;default:t=r.text(),e="",a="letter"}""!=h.className&&(a=h.className);var i,n,s=(t=(t=(t=t.replace(/^\s+|\s+$/g,"")).replace(/\s+/g," ")).split(e)).length,o="function"==typeof h.className;r.empty();for(var c=0;c<s;c++)n=t[c],i=o?h.className(c+1,s):a+(c+1)," "==n&&(n="&nbsp;",i+=" "+h.spaceClassName),r.append('<span class="'+i+'">'+n+"</span>");return r})}}(jQuery),function(C){C.fn.curvedText=function(t){var a=C(window),$=C.extend(!0,{},{curve:function(t){return{x:t,y:.5}},domain:[0,1],viewport:{x:0,y:0,width:1,height:1},subdivisions:250,className:"letter",spaceClassName:"empti",baseline:"above",scale:!0,rotate:!0,animate:!0,delay:0,duration:300,easing:"linear",watchResize:!0,throttle:200},t);return this.each(function(){function N(t){return Math.round(1e3*t)/1e3}function t(){var t=L.width(),e=(L.height(),L.data("curvedText").curve.viewport),a=t/e.width,r="all 0ms linear 0ms",i=N(a),n="translateX("+N(a*-e.x)+"px) translateY("+N(a*-e.y)+"px) scaleX("+i+") scaleY("+i+") rotate(0.0deg)",s="0% 0%",o=N(a*e.height)+"px";L.css("height",o),c.css({"-webkit-transform-origin":s,"-moz-transform-origin":s,"-ms-transform-origin":s,"-o-transform-origin":s,"transform-origin":s}).css({"-webkit-transform":n,"-moz-transform":n,"-ms-transform":n,"-o-transform":n,transform:n}).css({"-webkit-transition":r,"-moz-transition":r,"-ms-transition":r,"-o-transition":r,transition:r})}var c,k,L=C(this),e=L.text();if(e&&0!=e.length)return L.data("curvedText")?(c=L.children("div"),k=c.children("span")):(function(){var t=L.text();L.empty();(c=C("<div />").css({position:"relative",overflow:"visible",width:"100%",height:"100%",whiteSpace:"nowrap"}).text(t).appendTo(L)).typorize({type:"letter",className:$.className,spaceClassName:$.spaceClassName}),(k=c.children("span")).css({display:"inline-block",position:"relative"});var n=0;k.each(function(){var t=C(this),e=t.position(),a=t.outerWidth(!0),r=t.outerHeight(!0),i={x:e.left,y:e.top,width:a,height:r};t.data("curvedText",i),n+=a}),textLength=n;var e=L.data("curvedText"),e=C.extend(!0,e,{},{text:{length:textLength}});L.data("curvedText",e),k.css({display:"inline-block",position:"absolute"})}(),$.watchResize&&a.on("resize.curvedText orientationchange.curvedText",void 0!==C.throttle?C.throttle(t,$.throttle,!0):t)),function(){for(var t,e,a,r=$.subdivisions,i={subdivisions:r,points:new Array(r+1),partialLengths:new Array(r+1),length:0,viewport:$.viewport},n=$.domain,s=(n[1]-n[0])/r,o=0;o<=r;o++)a=n[0]+o*s,i.points[o]=$.curve(a);i.partialLengths[0]=0;for(o=1;o<=r;o++)t=i.points[o].x-i.points[o-1].x,e=i.points[o].y-i.points[o-1].y,i.length+=Math.sqrt(t*t+e*e),i.partialLengths[o]=i.length;var c=L.data("curvedText"),c=C.extend(!0,c,{},{curve:i});L.data("curvedText",c)}(),function(){var t,e,a,r,i,n,s,o,c,h,u,l,d,v,m,p,x=L.data("curvedText"),f=x.curve.subdivisions,g=x.curve.points,w=x.curve.partialLengths,y=x.curve.length,b=x.text.length,M=$.scale?y/b:1,T=N(M),I=$.animate?["all",$.duration+"ms",$.easing,$.delay+"ms"].join(" "):"all 0ms linear 0ms",P="number"==typeof $.baseline;if(P)i=.5,h=(x=C(k[0]).data("curvedText")).y+parseFloat($.baseline)*x.height;else switch($.baseline){case"below":i=.5,n=0;break;default:i=.5,n=1}p=1;for(var z=0;z<k.length;z++){for(e=M*((x=(t=C(k[z])).data("curvedText")).x+.5*x.width);w[p]<e&&p<f;)p++;u=(1-(m=(e-w[p-1])/(w[p]-w[p-1])))*g[p-1].x+m*g[p].x,l=(1-m)*g[p-1].y+m*g[p].y,d=g[p].x-g[p-1].x,v=g[p].y-g[p-1].y,c=$.rotate?180*Math.atan2(v,d)/Math.PI:0,P&&(n=(h-x.y)/x.height),s=u-i*x.width,o=l-n*x.height,r=100*(i=N(i))+"% "+100*(n=N(n))+"%",a="translateX("+(s=N(s))+"px) translateY("+(o=N(o))+"px) scaleX("+T+") scaleY("+T+") rotate("+(c=N(c))+"deg)",t.css({"-webkit-transform-origin":r,"-moz-transform-origin":r,"-ms-transform-origin":r,"-o-transform-origin":r,"transform-origin":r}).css({"-webkit-transform":a,"-moz-transform":a,"-ms-transform":a,"-o-transform":a,transform:a}).css({"-webkit-transition":I,"-moz-transition":I,"-ms-transition":I,"-o-transition":I,transition:I})}}(),t(),L})}}(jQuery),$(document).ready(function(){$(".arc-text").curvedText({curve:function(t){return{x:500+300*Math.cos(2*Math.PI*t-.5*Math.PI),y:400+300*Math.sin(2*Math.PI*t-.5*Math.PI)}},domain:[-.2,.2],viewport:{x:0,y:0,width:1e3,height:400}});$(".circle-text").curvedText({curve:function(t){return{x:500+300*Math.cos(2*Math.PI*-t+.5*Math.PI),y:500+300*Math.sin(2*Math.PI*-t+.5*Math.PI)}},domain:[0,1],viewport:{x:0,y:0,width:1e3,height:1e3}});$(".bezier-text").curvedText({curve:function(t){var e=[100,350,500,900],a=[400,50,500,200],r=[e[0],3*(e[1]-e[0]),3*(e[2]-2*e[1]+e[0]),e[3]-3*e[2]+3*e[1]-e[0]],i=[a[0],3*(a[1]-a[0]),3*(a[2]-2*a[1]+a[0]),a[3]-3*a[2]+3*a[1]-a[0]];return{x:r[0]+r[1]*t+r[2]*t*t+r[3]*t*t*t,y:i[0]+i[1]*t+i[2]*t*t+i[3]*t*t*t}},domain:[0,1],viewport:{x:0,y:0,width:1e3,height:500}});$(".spiral-text").curvedText({curve:function(t){var e=t+1;return{x:300+50*e*Math.cos(2*Math.PI*e-.5*Math.PI),y:300+50*e*Math.sin(2*Math.PI*e-.5*Math.PI)}},domain:[0,3],viewport:{x:0,y:0,width:600,height:600}});$(".wave-text").curvedText({curve:function(t){return{x:0+1e3*t,y:250+100*Math.sin(3*Math.PI*t)}},domain:[0,1],viewport:{x:0,y:0,width:1e3,height:500}})});